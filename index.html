<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buenos dias Amor</title>
  <style>
    html, body {
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    body {
      position: relative;
      min-width: 100vw;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    .fondo-gif {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      object-position: center center;
      z-index: -1;
      pointer-events: none;
      user-select: none;
      transition: object-position 0.3s;
    }
    @media (max-width: 600px) {
      .fondo-gif {
        object-position: center center;
        height: 100vh;
        width: 100vw;
        left: 0;
        border-radius: 0;
        box-shadow: none;
      }
    }
  </style>
</head>
<body>
  <img class="fondo-gif" src="https://i.pinimg.com/originals/72/bd/bd/72bdbd20d38ab581aba4eac36a94ffae.gif" alt="Fondo atardecer" />

  <!-- Modal inicial -->
  <div id="modal-inicio" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:200;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.7);">
    <div id="contenido-inicio" style="background:linear-gradient(135deg,#fffbe9 70%,#ffd6f6 100%);padding:2.5em 2em;border-radius:32px;box-shadow:0 0 32px #0008;max-width:90vw;max-height:80vh;display:flex;flex-direction:column;align-items:center;animation:popIn 1s cubic-bezier(.4,1.4,.6,1);">
      <div style="font-size:2em;color:#800080;text-align:center;margin-bottom:1.2em;font-weight:bold;letter-spacing:1px;">BUENOS DIAS MI AMOR!仇벒잺</div>
      <div style="font-size:1.1em;color:#b97aff;text-align:center;margin-bottom:1.2em;"> De Christian</div>
      <button id="btn-iniciar" style="margin-top:1em;padding:0.9em 2.5em;border-radius:18px;border:none;background:#ffd700;color:#800080;font-size:1.3em;cursor:pointer;box-shadow:0 2px 16px #ffd70080;transition:transform 0.2s;">Comenzar</button>
      <div id="animacion-inicio" style="margin-top:2em;width:80px;height:80px;">
        <svg width="80" height="80" viewBox="0 0 80 80">
          <circle cx="40" cy="40" r="32" fill="#fffbe9" stroke="#ffd700" stroke-width="6"/>
          <circle cx="40" cy="40" r="22" fill="none" stroke="#b97aff" stroke-width="4" stroke-dasharray="60 40" stroke-linecap="round">
            <animateTransform attributeName="transform" type="rotate" from="0 40 40" to="360 40 40" dur="2s" repeatCount="indefinite"/>
          </circle>
          <circle cx="40" cy="40" r="8" fill="#ffd700">
            <animate attributeName="r" values="8;14;8" dur="1.2s" repeatCount="indefinite"/>
          </circle>
        </svg>
      </div>
    </div>
  </div>

  <!-- PNG regados por la web -->
  <div id="png-regados" style="display:none;"></div>
  <div id="modal-romantico" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:100;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);">
    <div id="modal-contenido" style="background:#fffbe9;padding:2.5em 2em;border-radius:22px;box-shadow:0 0 32px #0006;max-width:90vw;max-height:80vh;display:flex;flex-direction:column;align-items:center;">
      <div id="mensaje-romantico" style="font-size:1.5em;color:#800080;text-align:center;margin-bottom:1.2em;"></div>
      <button onclick="cerrarModal()" style="margin-top:1em;padding:0.7em 2em;border-radius:12px;border:none;background:#ffd700;color:#800080;font-size:1.1em;cursor:pointer;">Cerrar</button>
    </div>
  </div>
  <div id="three-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:101;background:rgba(0,0,0,0.7);align-items:center;justify-content:center;"></div>
  <audio id="audio-inicio" src="https://github.com/codeninja543/codeninja5433/raw/refs/heads/main/The%20Fray%20-%20Look%20After%20You%20(Official%20Lyric%20Video).mp3" preload="auto"></audio>
  <script>
    // Genera 18 im치genes PNG en posiciones aleatorias
  const cantidad = 20;
  const pngUrl1 = 'https://github.com/codeninja543/codeninja5433/blob/main/PEONIAS.png?raw=true';
  const pngUrl2 = 'https://github.com/codeninja543/codeninja5433/blob/main/POENIAS22.webp?raw=true';
    const contenedor = document.getElementById('png-regados');
    contenedor.style.position = 'fixed';
    contenedor.style.top = '0';
    contenedor.style.left = '0';
    contenedor.style.width = '100vw';
    contenedor.style.height = '100vh';
  contenedor.style.pointerEvents = 'auto';
    function getResponsiveSize() {
      if (window.innerWidth <= 600) {
        // M칩vil: m치s peque침o
        return 60 + Math.random()*30;
      } else {
        // Escritorio: m치s peque침o
        return 80 + Math.random()*40;
      }
    }
    // Animaci칩n flotante
    function animarFlotantes() {
      const imgs = contenedor.querySelectorAll('img');
      imgs.forEach((img, idx) => {
        const baseTop = parseFloat(img.style.top);
        const baseLeft = parseFloat(img.style.left);
        img.animate([
          { transform: img.style.transform },
          { transform: `${img.style.transform} translateY(-12px) scale(1.08)` },
          { transform: img.style.transform }
        ], {
          duration: 3200 + Math.random()*1200,
          direction: 'alternate',
          iterations: Infinity,
          easing: 'ease-in-out',
          delay: idx*120
        });
        img.onclick = function(e) {
          e.stopPropagation();
          // Animaci칩n de explosi칩n
          explosionFlor(img, idx);
        };
        img.style.cursor = 'pointer';
      });
// Animaci칩n de explosi칩n de flor y reposici칩n
function explosionFlor(img, idx) {
  const rect = img.getBoundingClientRect();
  const cantidadPart = 22;
  // Crear part칤culas
  for(let i=0;i<cantidadPart;i++) {
    const part = document.createElement('div');
    part.style.position = 'fixed';
    part.style.left = (rect.left + rect.width/2) + 'px';
    part.style.top = (rect.top + rect.height/2) + 'px';
    part.style.width = '14px';
    part.style.height = '14px';
    part.style.borderRadius = '50%';
    part.style.background = '#b97aff';
    part.style.boxShadow = '0 0 16px #fff8';
    part.style.opacity = '0.85';
    part.style.zIndex = '120';
    part.style.pointerEvents = 'none';
    document.body.appendChild(part);
    const ang = Math.random()*2*Math.PI;
    const dist = 60 + Math.random()*60;
    part.animate([
      { transform: 'scale(1)', opacity: 0.85 },
      { transform: `translate(${Math.cos(ang)*dist}px,${Math.sin(ang)*dist}px) scale(0.2)`, opacity: 0 },
    ], {
      duration: 900 + Math.random()*400,
      easing: 'ease-out',
      fill: 'forwards'
    });
    setTimeout(()=>part.remove(),1200);
  }
  // Animaci칩n de desaparici칩n de la flor
  img.style.transition = 'opacity 0.5s, transform 0.5s';
  img.style.opacity = '0';
  img.style.transform += ' scale(1.3)';
  img.style.pointerEvents = 'none';
  // Despu칠s de la animaci칩n, reponer flor y mostrar modal
  setTimeout(()=>{
    if(img.parentNode) img.parentNode.removeChild(img);
    reponerFlor(idx);
    setTimeout(()=>mostrarModalRomantico(idx), 200);
  }, 520);
}

// Reponer una flor en una nueva posici칩n aleatoria
function reponerFlor(idx) {
  const ancho = getResponsiveSize();
  let topPx, leftPx, intentos = 0;
  const minDist = 120;
  const imgs = contenedor.querySelectorAll('img');
  // Evitar superposici칩n con otras flores
  do {
    topPx = Math.random()*0.85*window.innerHeight;
    leftPx = Math.random()*0.90*window.innerWidth;
    let valido = true;
    for(const other of imgs) {
      const dx = leftPx - parseFloat(other.style.left);
      const dy = topPx - parseFloat(other.style.top);
      if(Math.sqrt(dx*dx + dy*dy) < minDist) {
        valido = false;
        break;
      }
    }
    if(valido) break;
    intentos++;
  } while(intentos < 100);
  const img = document.createElement('img');
  img.src = idx < cantidad ? pngUrl1 : pngUrl2;
  img.alt = 'Decoraci칩n';
  img.style.position = 'absolute';
  img.style.width = ancho + 'px';
  img.style.opacity = '0';
  img.style.top = topPx + 'px';
  img.style.left = leftPx + 'px';
  img.style.transform = `rotate(${Math.random()*360}deg) scale(0.7)`;
  img.style.filter = 'drop-shadow(0 2px 16px #fff8)';
  img.style.transition = 'width 0.3s, opacity 0.7s cubic-bezier(.4,1.4,.6,1), transform 0.7s cubic-bezier(.4,1.4,.6,1)';
  img.dataset.tipo = idx < cantidad ? 'amarilla' : 'roja';
  contenedor.appendChild(img);
  // Animaci칩n de aparici칩n
  setTimeout(()=>{
    img.style.opacity = 0.85 + Math.random()*0.15;
    img.style.transform = img.style.transform.replace('scale(0.7)','scale(1)');
  }, 30);
  img.onclick = function(e) {
    e.stopPropagation();
    explosionFlor(img, idx);
  };
  img.style.cursor = 'pointer';
}
    }
    function posicionarPNGsAnimadas() {
      contenedor.innerHTML = '';
      const posiciones = [];
      const minDist = 120;
      const total = cantidad * 2;
      const imgsData = [];
      // Generar datos de posici칩n y tipo para todas las im치genes
      for(let i=0; i<total; i++) {
        let valido = false, topPx, leftPx, intentos = 0;
        let ancho = getResponsiveSize();
        while(!valido && intentos < 100) {
          topPx = Math.random()*0.85*window.innerHeight;
          leftPx = Math.random()*0.90*window.innerWidth;
          valido = true;
          for(const pos of posiciones) {
            const dx = leftPx - pos.left;
            const dy = topPx - pos.top;
            if(Math.sqrt(dx*dx + dy*dy) < minDist) {
              valido = false;
              break;
            }
          }
          intentos++;
        }
        posiciones.push({top: topPx, left: leftPx});
        imgsData.push({
          src: i < cantidad ? pngUrl1 : pngUrl2,
          tipo: i < cantidad ? 'amarilla' : 'roja',
          ancho,
          topPx,
          leftPx,
          rot: Math.random()*360,
          opacidad: 0.85 + Math.random()*0.15
        });
      }
      // Funci칩n recursiva para ir agregando im치genes una a una
      function agregarImagen(idx) {
        if(idx >= imgsData.length) { animarFlotantes(); return; }
        const data = imgsData[idx];
        const img = document.createElement('img');
        img.src = data.src;
        img.alt = 'Decoraci칩n';
        img.style.position = 'absolute';
        img.style.width = data.ancho + 'px';
        img.style.opacity = '0';
        img.style.top = data.topPx + 'px';
        img.style.left = data.leftPx + 'px';
        img.style.transform = `rotate(${data.rot}deg)`;
        img.style.filter = 'drop-shadow(0 2px 16px #fff8)';
        img.style.transition = 'width 0.3s, opacity 0.7s cubic-bezier(.4,1.4,.6,1)';
        img.dataset.tipo = data.tipo;
        contenedor.appendChild(img);
        setTimeout(()=>{
          img.style.opacity = data.opacidad;
        }, 30);
        setTimeout(()=>agregarImagen(idx+1), 120 + Math.random()*80);
      }
      agregarImagen(0);
    }

    // Mensajes rom치nticos 칰nicos
    const mensajesRomanticos = [
    'Me encanta tu sensibilidad y amor por los animales',
'Me encanta que seas tan paciente conmigo',
'Contigo aprend칤 que amar tambi칠n es florecer',
'Cada d칤a contigo es una nueva primavera',
'Tu amor me ense침a que florecer tambi칠n requiere paciencia',
'Cuidarte es vernos crecer',
'Eres primavera en mi invierno',
'Florezco un poco cada vez que me miras',
'Tu forma de querer hace crecer todo lo bueno en m칤',
'Aqu칤, contigo, todo brota',
'Eres mi estaci칩n m치s bonita',
'Me haces sentir en primavera, incluso en los d칤as nublados',
'Tu ternura me ense침칩 a quedarme',
'A veces basta tu voz para que todo florezca',
'Me basta tu presencia para florecer',
'No s칠 c칩mo explicarlo, pero contigo todo se siente bien',
'No busco m치s, te encontr칠 a ti',
'A tu lado, hasta lo cotidiano se vuelve especial',
'Eres la certeza m치s bonita que tengo',
'Eres lo m치s bonito que me pasa sin buscarlo',
'Eres una estrella en mi vida',
'te amo mucho mi princesa 游밽'
    ];

    // Modal y animaci칩n Three.js
    function cerrarModal() {
      document.getElementById('modal-romantico').style.display = 'none';
    }

    function mostrarAnimacion3D(img, idx, color) {
      const threeModal = document.getElementById('three-modal');
      threeModal.style.display = 'flex';
      threeModal.innerHTML = '';
      // Three.js b치sico
      const script = document.createElement('script');
      script.src = 'https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js';
      script.onload = function() {
        const THREE = window.THREE;
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, 14);
        const renderer = new THREE.WebGLRenderer({ alpha:true, antialias:true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 0);
        threeModal.appendChild(renderer.domElement);
        // Luz
        scene.add(new THREE.AmbientLight(0xffffff, 0.8));
        const dirLight = new THREE.DirectionalLight(0xffffff, 0.7);
        dirLight.position.set(2,4,5);
        scene.add(dirLight);
        // Flor 3D cinematogr치fica
        // Flor morada
        const material = new THREE.MeshPhongMaterial({ color: 0x8e44ad, shininess: 90 });
        const petalMaterial = new THREE.MeshPhongMaterial({ color: 0xc084e6, shininess: 70 });
        const center = new THREE.Mesh(new THREE.SphereGeometry(0.7, 32, 32), material);
        scene.add(center);
        const petals = [];
        for(let i=0;i<8;i++) {
          const petal = new THREE.Mesh(new THREE.SphereGeometry(0.35, 24, 24), petalMaterial);
          petal.position.x = Math.cos(i*Math.PI/4)*1.2;
          petal.position.y = Math.sin(i*Math.PI/4)*1.2;
          petal.position.z = 0;
          petal.scale.set(0.1,0.1,0.1);
          scene.add(petal);
          petals.push(petal);
        }
        // Cinem치tica: c치mara se acerca, p칠talos se abren, giro y brillo
        let frame = 0;
        let totalFrames = 80;
        function animate() {
          frame++;
          // C치mara se acerca y gira
          if(frame<=40) {
            camera.position.z = 14 - (frame/40)*8;
            camera.position.x = Math.sin(frame/40*Math.PI)*2.5;
            camera.lookAt(0,0,0);
          } else {
            camera.position.z = 6;
            camera.position.x = 0;
            camera.lookAt(0,0,0);
          }
          // P칠talos se abren
          petals.forEach((petal, i) => {
            let t = Math.min(frame/totalFrames,1);
            petal.scale.set(0.1 + t*0.9, 0.1 + t*0.9, 0.1 + t*0.9);
            petal.rotation.z += 0.03 + t*0.08;
          });
          // Centro gira y brilla
          center.rotation.y += 0.09;
          material.shininess = 110 + Math.sin(frame/8)*40;
          renderer.render(scene, camera);
          if(frame<totalFrames) {
            requestAnimationFrame(animate);
          } else {
            setTimeout(() => {
              threeModal.style.display = 'none';
              threeModal.innerHTML = '';
              lanzarParticulas(img, 'purple');
              mostrarModalRomantico(idx);
            }, 500);
          }
        }
        animate();
        window.addEventListener('resize', () => {
          camera.aspect = window.innerWidth/window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });
      };
      document.body.appendChild(script);
    }

    // Part칤culas
    function lanzarParticulas(img, color) {
      const cantidad = 22;
      for(let i=0;i<cantidad;i++) {
        const part = document.createElement('div');
        part.style.position = 'fixed';
        const rect = img.getBoundingClientRect();
        part.style.left = (rect.left + rect.width/2) + 'px';
        part.style.top = (rect.top + rect.height/2) + 'px';
        part.style.width = '12px';
        part.style.height = '12px';
        part.style.borderRadius = '50%';
        part.style.background = color === 'purple' ? '#b97aff' : '#b97aff';
        part.style.boxShadow = '0 0 16px #fff8';
        part.style.opacity = '0.85';
        part.style.zIndex = '120';
        part.style.pointerEvents = 'none';
        document.body.appendChild(part);
        const ang = Math.random()*2*Math.PI;
        const dist = 60 + Math.random()*40;
        part.animate([
          { transform: 'scale(1)', opacity: 0.85 },
          { transform: `translate(${Math.cos(ang)*dist}px,${Math.sin(ang)*dist}px) scale(0.2)`, opacity: 0 },
        ], {
          duration: 900 + Math.random()*400,
          easing: 'ease-out',
          fill: 'forwards'
        });
        setTimeout(()=>part.remove(),1200);
      }
    }

    // Modal rom치ntico
    function mostrarModalRomantico(idx) {
      document.getElementById('mensaje-romantico').textContent = mensajesRomanticos[idx%mensajesRomanticos.length];
      document.getElementById('modal-romantico').style.display = 'flex';
    }
    // L칩gica de inicio: mostrar modal y esperar interacci칩n
    const modalInicio = document.getElementById('modal-inicio');
    const btnIniciar = document.getElementById('btn-iniciar');
    const audioInicio = document.getElementById('audio-inicio');
    const contenedorPNGs = document.getElementById('png-regados');
    function iniciarExperiencia() {
      // Animaci칩n de salida del modal
      modalInicio.style.animation = 'fadeOut 0.7s cubic-bezier(.4,1.4,.6,1)';
      setTimeout(() => {
        modalInicio.style.display = 'none';
        contenedorPNGs.style.display = '';
        // Iniciar m칰sica desde el principio
        audioInicio.currentTime = 0;
        audioInicio.play();
        // Lanzar el resto de la experiencia con animaci칩n progresiva
        posicionarPNGsAnimadas();
      }, 650);
    }
    btnIniciar.addEventListener('click', iniciarExperiencia);
    btnIniciar.addEventListener('touchstart', function(e){ e.preventDefault(); iniciarExperiencia(); });
    // Animaciones CSS
    const styleAnim = document.createElement('style');
    styleAnim.innerHTML = `
      @keyframes popIn { 0% { transform: scale(0.7); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
      @keyframes fadeOut { 0% { opacity: 1; } 100% { opacity: 0; } }
    `;
    document.head.appendChild(styleAnim);
    // Solo activar el resto si ya se toc칩 iniciar
    window.addEventListener('resize', function() {
      if (modalInicio.style.display === 'none') posicionarPNGsAnimadas();
    });
  </script>
</body>
</html>